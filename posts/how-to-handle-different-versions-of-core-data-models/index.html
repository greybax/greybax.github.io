<!DOCTYPE html>
<html dir="LTR" lang="en">
  <head><!-- Google Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5911768621562708" crossorigin="anonymous"></script><!-- /Google Adsense -->
    <meta charset="utf-8">
    <title>How to handle different versions of Core Data Models</title><!-- WoT Verification -->
    <meta name="wot-verification" content="6c0d169b1afe357fe29c"><!-- Pinterest Verification -->
    <meta name="p:domain_verify" content="e021b373eb236145372efe911356b021"><!-- Ahrefs Verification -->
    <meta name="ahrefs-site-verification" content="359a26c55784fe22202b19d04418e0bb6e38056e28f6cb3a75b6971de49c2867">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <meta name="author" content="Aleksandr Filatov">
    <link href="https://alfilatov.com/rss.xml" title="Aleksandr Filatov" rel="alternate" type="application/rss+xml"><!-- Open Sans -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800,700&amp;subset=latin,cyrillic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Inconsolata:400&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet"><!-- My Styles -->
    <link href="/css/styles.css" rel="stylesheet"><!-- highlight.js -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/monokai_sublime.min.css" rel="stylesheet">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
    <script async defer data-pin-hover="true" data-pin-tall="true" src="//assets.pinterest.com/js/pinit.js"></script>
    <meta property="og:site_name" content="Aleksandr Filatov">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@greybax">
    <meta name="keywords" content="ios, macos, swiftui, appstore, development, coredata, xcode, english">
    <meta name="description" content="How to handle different versions of Core Data Models">
    <meta name="og:url" content="/posts/how-to-handle-different-versions-of-core-data-models/">
    <meta name="og:title" content="How to handle different versions of Core Data Models">
    <meta name="og:description" content="ios, macos, swiftui, appstore, development, coredata, xcode, english"><!‚Äî- ShareThis BEGIN -‚Äî>
    <script async src="https://platform-api.sharethis.com/js/sharethis.js#property=5d2f8fb7735046001257ffab&amp;product='sticky-share-buttons'"></script><!‚Äî- ShareThis END -‚Äî>
  </head>
  <body>
    <header class="no-cover flex-header">
      <div class="to-main-page"><i class="fa fa-chevron-left"></i><a href="/">Main page</a></div>
    </header>
    <div class="wrap-flex">
      <div class="related-posts">
        <div><span class="header">Related posts</span>
          <ul>
            <li><a href="/posts/appscreen-studio-macos-app-to-create-screenshots-and-previews-for-your-appstore-apps/"> AppScreen Studio - macOS App to Create Screenshots and Previews for Your AppStore Apps </a></li>
            <li><a href="/posts/coredata-studio-macos-app-to-view-and-debug-your-coredata-projects/"> CoreData Studio - macOS App to View and Debug your CoreData projects </a></li>
            <li><a href="/posts/run-chrome-without-cors/"> Run Chrome browser without CORS </a></li>
            <li><a href="/posts/my-contribution-in-mozilla-society/"> My contribution in Mozilla society </a></li>
            <li><a href="/posts/yandex-browser-it-need-or-not/"> Yandex browser - it's need or not? </a></li>
          </ul>
        </div>
        <div class="right-banner"><!-- Google Adsense -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5911768621562708" crossorigin="anonymous"></script><!-- google_adsense_right_article_banner --><ins style="display:block" data-ad-client="ca-pub-5911768621562708" data-ad-slot="3612504428" data-ad-format="auto" class="adsbygoogle"></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({});</script><!-- /Google Adsense -->
        </div>
      </div>
      <article>
        <div class="top-banner"><!-- Google Adsense -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5911768621562708" crossorigin="anonymous"></script><!-- google_adsense_top_article_banner --><ins style="display:block" data-ad-client="ca-pub-5911768621562708" data-ad-slot="9573555341" data-ad-format="auto" data-full-width-responsive="true" class="adsbygoogle"></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({});</script><!-- /Google Adsense -->
        </div><h1>How to handle different versions of Core Data Models</h1><i class="fa fa-calendar">
          <time>October 7, 2023</time></i><br><i class="fa fa-tags"><a href="/tags/index.html#ios"> ios </a><a href="/tags/index.html#macos"> macos </a><a href="/tags/index.html#swiftui"> swiftui </a><a href="/tags/index.html#appstore"> appstore </a><a href="/tags/index.html#development"> development </a><a href="/tags/index.html#coredata"> coredata </a><a href="/tags/index.html#xcode"> xcode </a><a href="/tags/index.html#english"> english </a></i><h2>Intro</h2>
<p>As i mentioned earlier <a href="/posts/how-to-start-business-in-washington-state/">I've started my own business</a>. I've encountered issues when migrating my data models between different versions, as I work on various apps for the AppStore (iOS/MacOS). In this post, I want to clarify the process for myself and hopefully help someone else who may find it useful.</p>
<h2>Data Migration</h2>
<p>Apple provides extensive documentation, but it can be challenging to navigate, especially in the context of SwiftUI.
So I've found this article related to <a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreDataVersioning/Articles/Introduction.html">Core Data Model Versioning and Data Migration
</a>. But reading takes too much time and doesn't clarify too much.</p>
<p>So one of my common issues for data migrations that my app doesn't start anymore due to DB migration errors.
It happens because ordering in the process of Data Migration and Versioning matters.</p>
<p>So there are steps:</p>
<ol>
<li>Select your DB -> <code>Editor</code> -> <code>Add Model Version...</code></li>
<li>In popup window name your new model version and select <code>Based on Model</code> as latest one</li>
<li>After that do your changes with your models in this newly created model version.</li>
<li><code>Editor</code> -> <code>Create NSManagedObject Subclass...</code></li>
<li>In Settings of your Model select Model Version Current as your latest one where you've made changes</li>
<li>Build your project</li>
</ol>
<p>Make sure that option <code>NSMigratePersistentStoresAutomaticallyOption: true</code> exists in your CoreData Manager file. This settings allows to merge DB Model migrations automatically. In most cases it will be enough except some specific cases where you need to migrate your models manually.</p>
<p>Following these steps should ensure that your project opens successfully without encountering issues during the database migration process.</p>
<p>Enjoy you Core Data Model migrations! ‚úåüèº</p>
      </article>
    </div>
    <div class="wrap"><!-- Google Adsense -->
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5911768621562708" crossorigin="anonymous"></script><!-- google_adsense_bottom_article_banner --><ins style="display:block" data-ad-client="ca-pub-5911768621562708" data-ad-slot="6947392006" data-ad-format="auto" data-full-width-responsive="true" class="adsbygoogle"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script><!-- /Google Adsense --><!-- Disqus -->
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        (function() {
           var d = document, s = d.createElement('script');    
           s.src = '//alfilatov.disqus.com/embed.js';
           s.setAttribute('data-timestamp', +new Date());
           (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><!-- /Disqus -->
    </div><!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QFQBKNKE0N"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-QFQBKNKE0N');
    </script><!-- /Global site tag (gtag.js) - Google Analytics -->
  </body>
  <footer>
    <center>Made with ‚ù§ and <a href="https://gulpjs.com/">Gulp </a>‚ô¶ <a href="https://pages.github.com/">GitHub Pages</a></center>
  </footer>
</html>